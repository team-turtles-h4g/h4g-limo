(self.webpackChunkh4g_limo=self.webpackChunkh4g_limo||[]).push([[9208],{9208:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>w});var i=t(8651),s=t(46942),a=(t(12131),t(47648),t(18419),t(8680)),o=t(16304),l=t(93668),n=t(39591),p=t(11909),u=t(28067),y=t(42806),c=(t(42851),t(4706)),f=t(49533),d=t(54704),B=t(41460),g=t(2379),v=t(65611),m=t(38975),h=t(92268),P=t(78816),b=t(60337);function _(e){return e.features.map(r=>{const t=g.Z.fromJSON(e.spatialReference),i=c.Z.fromJSON(r);return(0,d.Wg)(i.geometry).spatialReference=t,i})}function A(e){return(0,d.lV)(e.features.map(r=>((0,d.pC)(r.geometry)&&(r.geometry.spatialReference=e.spatialReference),(0,b.im)(r.geometry))))}let S=class extends f.wq{constructor(e){super(e),this.facilities=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.serviceAreaPolylines=null,this.serviceAreaPolygons=null}readFacilities(e){return A(e)}readPointBarriers(e,r){return A(r.barriers)}readPolylineBarriers(e){return A(e)}readPolygonBarriers(e){return A(e)}readIncidents(e,r){return _(r.saPolylines)}readServiceAreaPolygons(e,r){return _(r.saPolygons)}};(0,i._)([(0,s.Cb)({type:[m.Z]})],S.prototype,"facilities",void 0),(0,i._)([(0,B.r)("facilities")],S.prototype,"readFacilities",null),(0,i._)([(0,s.Cb)({type:[v.Z]})],S.prototype,"messages",void 0),(0,i._)([(0,s.Cb)({type:[m.Z]})],S.prototype,"pointBarriers",void 0),(0,i._)([(0,B.r)("pointBarriers",["barriers"])],S.prototype,"readPointBarriers",null),(0,i._)([(0,s.Cb)({type:[h.Z]})],S.prototype,"polylineBarriers",void 0),(0,i._)([(0,B.r)("polylineBarriers")],S.prototype,"readPolylineBarriers",null),(0,i._)([(0,s.Cb)({type:[P.Z]})],S.prototype,"polygonBarriers",void 0),(0,i._)([(0,B.r)("polygonBarriers")],S.prototype,"readPolygonBarriers",null),(0,i._)([(0,s.Cb)({type:[c.Z]})],S.prototype,"serviceAreaPolylines",void 0),(0,i._)([(0,B.r)("serviceAreaPolylines",["saPolylines"])],S.prototype,"readIncidents",null),(0,i._)([(0,s.Cb)({type:[c.Z]})],S.prototype,"serviceAreaPolygons",void 0),(0,i._)([(0,B.r)("serviceAreaPolygons",["saPolygons"])],S.prototype,"readServiceAreaPolygons",null),S=(0,i._)([(0,a.j)("esri.rest.support.ServiceAreaSolveResult")],S);var Z=S;const C=(0,n.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,defaultBreaks:!0,facilities:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},travelMode:!0});function k(){return(k=(0,o.Z)(function*(e,r,t){const i=[],s=[],a={},o={},n=(0,y.en)(e),{path:c}=n;r.facilities&&r.facilities.features&&(0,u.et)(r.facilities.features,s,"facilities.features",a),r.pointBarriers&&r.pointBarriers.features&&(0,u.et)(r.pointBarriers.features,s,"pointBarriers.features",a),r.polylineBarriers&&r.polylineBarriers.features&&(0,u.et)(r.polylineBarriers.features,s,"polylineBarriers.features",a),r.polygonBarriers&&r.polygonBarriers.features&&(0,u.et)(r.polygonBarriers.features,s,"polygonBarriers.features",a);const f=yield(0,p.aX)(s);for(const l in a){const e=a[l];i.push(l),o[l]=f.slice(e[0],e[1])}if((0,u.Wf)(o,i)){let e=null;try{e=yield(0,u.bI)(c,r.apiKey,t)}catch{}e&&!e.hasZ&&(0,u.ef)(o,i)}for(const l in o)o[l].forEach((e,t)=>{r.get(l)[t].geometry=e});const d={...t,query:{...n.query,...C.toQueryParams(r),f:"json"}},{data:B}=yield(0,l.default)(`${c}/solveServiceArea`,d);return Z.fromJSON(B)})).apply(this,arguments)}var R=t(38373);let N=class extends R.Z{constructor(e){super(e),this.url=null}solve(e,r){return function(e,r,t){return k.apply(this,arguments)}(this.url,e,r)}};(0,i._)([(0,s.Cb)()],N.prototype,"url",void 0),N=(0,i._)([(0,a.j)("esri.tasks.ServiceAreaTask")],N);var w=N}}]);