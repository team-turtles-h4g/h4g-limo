(self.webpackChunkh4g_limo=self.webpackChunkh4g_limo||[]).push([[206],{21083:(e,t,o)=>{"use strict";o.d(t,{RL:()=>f,bk:()=>s,Fp:()=>a,UV:()=>c});var i=o(60337),r=o(58353),n=o(57145);function a(e){if(!e)return null;switch(e.type){case"CIMPointSymbol":{const t=e.symbolLayers;return t&&1===t.length?a(t[0]):null}case"CIMVectorMarker":{const t=e.markerGraphics;if(!t||1!==t.length)return null;const o=t[0];if(!o)return null;const i=o.geometry;if(!i)return null;const r=o.symbol;return!r||"CIMPolygonSymbol"!==r.type&&"CIMLineSymbol"!==r.type?null:{geom:i,asFill:"CIMPolygonSymbol"===r.type}}case"sdf":return{geom:e.geom,asFill:e.asFill}}return null}function l(e){let t=1/0,o=-1/0,i=1/0,r=-1/0;for(const n of e)for(const e of n)e[0]<t&&(t=e[0]),e[0]>o&&(o=e[0]),e[1]<i&&(i=e[1]),e[1]>r&&(r=e[1]);return[t,i,o,r]}function s(e){return e?e.rings?l(e.rings):e.paths?l(e.paths):(0,i.YX)(e)?[e.xmin,e.ymin,e.xmax,e.ymax]:null:null}function c(e,t,o,i,r){const[n,a,l,s]=e;if(l<n||s<a)return[0,0,0];const c=l-n,f=s-a,m=Math.floor(31.5),u=(128-2*(m+1))/Math.max(c,f),h=Math.round(c*u)+2*m,y=Math.round(f*u)+2*m;let p=1;t&&(p=y/u/(t.ymax-t.ymin));let g=0,d=0;return i&&(r?t&&o&&t.ymax-t.ymin>0&&(g=i.x/(o*((t.xmax-t.xmin)/(t.ymax-t.ymin))),d=i.y/o):(g=i.x,d=i.y)),g=.5*(t.xmax+t.xmin)+g*(t.xmax-t.xmin),d=.5*(t.ymax+t.ymin)+d*(t.ymax-t.ymin),g-=n,d-=a,g*=u,d*=u,g+=m,d+=m,[p,g/h-.5,-(d/y-.5)]}function f(e){const t=function(e){return e?e.rings?e.rings:e.paths?e.paths:void 0!==e.xmin&&void 0!==e.ymin&&void 0!==e.xmax&&void 0!==e.ymax?[[[e.xmin,e.ymin],[e.xmin,e.ymax],[e.xmax,e.ymax],[e.xmax,e.ymin],[e.xmin,e.ymin]]]:null:null}(e.geom),o=function(e){let t=1/0,o=-1/0,i=1/0,r=-1/0;for(const n of e)for(const e of n)e[0]<t&&(t=e[0]),e[0]>o&&(o=e[0]),e[1]<i&&(i=e[1]),e[1]>r&&(r=e[1]);return new n.Z(t,i,o-t,r-i)}(t),i=Math.floor(31.5),r=(128-2*(i+1))/Math.max(o.width,o.height),a=Math.round(o.width*r)+2*i,l=Math.round(o.height*r)+2*i,s=[];for(const n of t)if(n&&n.length>1){const t=[];for(const a of n){let[n,l]=a;n-=o.x,l-=o.y,n*=r,l*=r,n+=i-.5,l+=i-.5,t.push(e.asFill?[n,l]:[Math.round(n),Math.round(l)])}if(e.asFill){const e=t.length-1;t[0][0]===t[e][0]&&t[0][1]===t[e][1]||t.push(t[0])}s.push(t)}const c=function(e,t,o,i){const r=t*o,n=new Array(r),a=i*i+1;for(let l=0;l<r;++l)n[l]=a;for(const l of e){const e=l.length;for(let r=1;r<e;++r){const e=l[r-1],a=l[r];let s,c,f,m;e[0]<a[0]?(s=e[0],c=a[0]):(s=a[0],c=e[0]),e[1]<a[1]?(f=e[1],m=a[1]):(f=a[1],m=e[1]);let u=Math.floor(s)-i,h=Math.floor(c)+i,y=Math.floor(f)-i,p=Math.floor(m)+i;u<0&&(u=0),h>t&&(h=t),y<0&&(y=0),p>o&&(p=o);const g=a[0]-e[0],d=a[1]-e[1],S=g*g+d*d;for(let i=u;i<h;i++)for(let r=y;r<p;r++){let l,s,c=(i-e[0])*g+(r-e[1])*d;c<0?(l=e[0],s=e[1]):c>S?(l=a[0],s=a[1]):(c/=S,l=e[0]+c*g,s=e[1]+c*d);const f=(i-l)*(i-l)+(r-s)*(r-s),m=(o-r-1)*t+i;f<n[m]&&(n[m]=f)}}}for(let l=0;l<r;++l)n[l]=Math.sqrt(n[l]);return n}(s,a,l,i);return e.asFill&&function(e,t,o,i,r){for(const n of e){const e=n.length;for(let a=1;a<e;++a){const e=n[a-1],l=n[a];let s,c,f,m;e[0]<l[0]?(s=e[0],c=l[0]):(s=l[0],c=e[0]),e[1]<l[1]?(f=e[1],m=l[1]):(f=l[1],m=e[1]);let u=Math.floor(s),h=Math.floor(c)+1,y=Math.floor(f),p=Math.floor(m)+1;u<i&&(u=i),h>t-i&&(h=t-i),y<i&&(y=i),p>o-i&&(p=o-i);for(let n=y;n<p;++n){if(e[1]>n==l[1]>n)continue;const a=(o-n-1)*t;for(let t=u;t<h;++t)t<(l[0]-e[0])*(n-e[1])/(l[1]-e[1])+e[0]&&(r[a+t]=-r[a+t]);for(let e=i;e<u;++e)r[a+e]=-r[a+e]}}}}(s,a,l,i,c),[m(c,i),a,l]}function m(e,t){const o=2*t,i=e.length,n=new Uint8Array(4*i);for(let a=0;a<i;++a)(0,r.I)(.5-e[a]/o,n,4*a);return n}},10206:(e,t,o)=>{"use strict";o.d(t,{S:()=>B,c:()=>b});var i=o(16304),r=o(24557),n=o(18419),a=o(85128),l=o(36434),s=o(10954),c=o(84191),f=o(21083),m=o(84991),u=o(26339);const h=n.Z.getLogger("esri.symbols.cim.cimAnalyzer");function y(e){switch(e){case"Butt":return 0;case"Square":return 2;default:return 1}}function p(e){switch(e){case"Bevel":return 0;case"Miter":return 2;default:return 1}}function g(e){switch(e){default:return"left";case"Right":return"right";case"Center":return"center";case"Justify":return"justify"}}function d(e){switch(e){default:return"top";case"Center":return"middle";case"Baseline":return"baseline";case"Bottom":return"bottom"}}function S(e,t,o,i){let r;e[t]?r=e[t]:(r={},e[t]=r),r[o]=i}function v(e){const t=e.markerPlacement;return t&&t.angleToLine?1:0}function b(e,t,o,i){return N.apply(this,arguments)}function N(){return(N=(0,i.Z)(function*(e,t,o,i){const r=null!=o?o:[];if(!e)return r;let n,a;const l={};if("CIMSymbolReference"!==e.type)return h.error("Expect cim type to be 'CIMSymbolReference'"),r;if(n=e.symbol,a=e.primitiveOverrides,a){const e=[];for(const o of a){const i=o.valueExpressionInfo;if(i&&t){const r=(0,s.Yi)(i.expression,t.spatialReference,t.fields).then(e=>{e&&S(l,o.primitiveName,o.propertyName,e)});e.push(r)}else null!=o.value&&S(l,o.primitiveName,o.propertyName,o.value)}yield Promise.all(e)}switch(n.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":O(n,a,l,t,r,i)}return r})).apply(this,arguments)}function O(e,t,o,i,r,n){if(!e)return;const a=e.symbolLayers;if(!a)return;let l;const s=c.B$.getSize(e);"CIMPointSymbol"===e.type&&"Map"===e.angleAlignment&&(l=1);let f=a.length;for(;f--;){const m=a[f];if(!m||!1===m.enable)continue;const u=[];switch(c.E0.findApplicableOverrides(m,t,u),m.type){case"CIMSolidFill":k(m,o,u,i,r);break;case"CIMPictureFill":P(m,o,u,i,r);break;case"CIMHatchFill":C(m,o,u,i,r);break;case"CIMGradientFill":M(m,o,u,i,r);break;case"CIMSolidStroke":x(m,o,u,i,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMPictureStroke":L(m,o,u,i,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMGradientStroke":w(m,o,u,i,r,"CIMPolygonSymbol"===e.type,s);break;case"CIMCharacterMarker":if(I(m,o,u,i,r))break;break;case"CIMPictureMarker":if(I(m,o,u,i,r))break;"CIMLineSymbol"===e.type&&(l=v(m)),X(m,o,u,i,r,l,s);break;case"CIMVectorMarker":if(I(m,o,u,i,r))break;"CIMLineSymbol"===e.type&&(l=v(m)),z(m,o,u,i,r,l,s,n);break;default:h.error("Cannot analyze CIM layer",m.type)}}}function k(e,t,o,i,r){const n=e.primitiveName,a=(0,m.NO)(e.color),[s,c]=G(o,n),f=(0,l.hP)(JSON.stringify(e)+c).toString();r.push({type:"fill",templateHash:f,materialHash:s?()=>f:f,cim:e,materialOverrides:null,colorLocked:e.colorLocked,color:A(n,t,"Color",i,a,F),height:0,angle:0,offsetX:0,offsetY:0,scaleX:1,effects:e.effects})}function P(e,t,o,i,r){const n=e.primitiveName,a=e.tintColor?(0,m.NO)(e.tintColor):{r:255,g:255,b:255,a:1},[s,c]=G(o,n),f=(0,l.hP)(JSON.stringify(e)+c).toString(),u=(0,l.hP)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString();r.push({type:"fill",templateHash:f,materialHash:s?()=>u:u,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:A(n,t,"TintColor",i,a,F),height:A(n,t,"Height",i,e.height),scaleX:A(n,t,"ScaleX",i,e.scaleX),angle:A(n,t,"Rotation",i,e.rotation),offsetX:A(n,t,"OffsetX",i,e.offsetX),offsetY:A(n,t,"OffsetY",i,e.offsetY)})}function C(e,t,o,i,r){const n=["Rotation","OffsetX","OffsetY"],a=o.filter(t=>t.primitiveName!==e.primitiveName&&-1===n.indexOf(t.propertyName)),s=e.primitiveName,[c,f]=G(o,s),m=(0,l.hP)(JSON.stringify(e)+f).toString(),u=(0,l.hP)(`${e.separation}${JSON.stringify(e.lineSymbol)}`).toString();r.push({type:"fill",templateHash:m,materialHash:c?R(u,t,a,i):u,cim:e,materialOverrides:a,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:A(s,t,"Separation",i,e.separation),scaleX:1,angle:A(s,t,"Rotation",i,e.rotation),offsetX:A(s,t,"OffsetX",i,e.offsetX),offsetY:A(s,t,"OffsetY",i,e.offsetY)})}function M(e,t,o,i,r){const n=e.primitiveName,[a,s]=G(o,n),c=(0,l.hP)(JSON.stringify(e)+s).toString();r.push({type:"fill",templateHash:c,materialHash:a?R(c,t,o,i):c,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},height:0,angle:0,offsetX:0,offsetY:0,scaleX:1})}function x(e,t,o,i,r,n,a){const s=e.primitiveName,c=(0,m.NO)(e.color),f=void 0!==e.width?e.width:4,u=y(e.capStyle),h=p(e.joinStyle),g=e.miterLimit,[d,S]=G(o,s),v=(0,l.hP)(JSON.stringify(e)+S).toString();r.push({type:"line",templateHash:v,materialHash:d?()=>v:v,cim:e,materialOverrides:null,isOutline:n,colorLocked:e.colorLocked,effects:e.effects,color:A(s,t,"Color",i,c,F),width:A(s,t,"Width",i,f),cap:A(s,t,"CapStyle",i,u),join:A(s,t,"JoinStyle",i,h),miterLimit:A(s,t,"MiterLimit",i,g),referenceWidth:a,zOrder:H(e.name),isDashed:!1})}function L(e,t,o,i,r,n,a){const s=(0,l.hP)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),c=e.primitiveName,f=(0,m.NO)(e.tintColor),u=void 0!==e.width?e.width:4,h=y(e.capStyle),g=p(e.joinStyle),d=e.miterLimit,[S,v]=G(o,c),b=(0,l.hP)(JSON.stringify(e)+v).toString();r.push({type:"line",templateHash:b,materialHash:S?()=>s:s,cim:e,materialOverrides:null,isOutline:n,colorLocked:e.colorLocked,effects:e.effects,color:A(c,t,"TintColor",i,f,F),width:A(c,t,"Width",i,u),cap:A(c,t,"CapStyle",i,h),join:A(c,t,"JoinStyle",i,g),miterLimit:A(c,t,"MiterLimit",i,d),referenceWidth:a,zOrder:H(e.name),isDashed:!1})}function w(e,t,o,i,r,n,a){const s=e.primitiveName,c=void 0!==e.width?e.width:4,f=y(e.capStyle),m=p(e.joinStyle),u=e.miterLimit,[h,g]=G(o,s),d=(0,l.hP)(JSON.stringify(e)+g).toString();r.push({type:"line",templateHash:d,materialHash:h?R(d,t,o,i):d,cim:e,materialOverrides:null,isOutline:n,colorLocked:e.colorLocked,effects:e.effects,color:{r:128,g:128,b:128,a:1},width:A(s,t,"Width",i,c),cap:A(s,t,"CapStyle",i,f),join:A(s,t,"JoinStyle",i,m),miterLimit:A(s,t,"MiterLimit",i,u),referenceWidth:a,zOrder:H(e.name),isDashed:!1})}function I(e,t,o,i,r){const n=e.markerPlacement;if(!n||"CIMMarkerPlacementInsidePolygon"!==n.type)return!1;const a=n,s=["Rotation","OffsetX","OffsetY"],c=o.filter(t=>t.primitiveName!==e.primitiveName&&-1===s.indexOf(t.propertyName)),[f,m]=G(o,a.primitiveName),u=(0,l.hP)(JSON.stringify(e)+m).toString();return r.push({type:"fill",templateHash:u,materialHash:f?R(u,t,c,i):u,cim:e,materialOverrides:c,colorLocked:e.colorLocked,effects:e.effects,color:{r:255,g:255,b:255,a:1},height:A(a.primitiveName,t,"StepY",i,a.stepY),scaleX:1,angle:A(a.primitiveName,t,"GridAngle",i,a.gridAngle),offsetX:A(a.primitiveName,t,"OffsetX",i,a.offsetX),offsetY:A(a.primitiveName,t,"OffsetY",i,a.offsetY)}),!0}function X(e,t,o,i,r,n,a){const s=e.primitiveName,c=e.size,f=e.scaleX,u=e.rotation,h=e.offsetX,y=e.offsetY,p=e.tintColor?(0,m.NO)(e.tintColor):{r:255,g:255,b:255,a:1},g=(0,l.hP)(`${e.url}${JSON.stringify(e.colorSubstitutions)}`).toString(),[d,S]=G(o,s),v=(0,l.hP)(JSON.stringify(e)+S).toString();r.push({type:"marker",templateHash:v,materialHash:d?()=>g:g,cim:e,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:!1,alignment:n,size:A(s,t,"Size",i,c),scaleX:A(s,t,"ScaleX",i,f),rotation:A(s,t,"Rotation",i,u),offsetX:A(s,t,"OffsetX",i,h),offsetY:A(s,t,"OffsetY",i,y),color:A(s,t,"TintColor",i,p,F),anchorPoint:e.anchorPoint,isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,frameHeight:0,rotateClockwise:e.rotateClockwise,referenceSize:a,sizeRatio:1,markerPlacement:e.markerPlacement})}function z(e,t,o,i,r,n,a,l){const s=e.markerGraphics;if(!s)return;let c=0;if(e.scaleSymbolsProportionally){const t=e.frame;t&&(c=t.ymax-t.ymin)}for(const f of s)if(f){const s=f.symbol;if(!s)continue;switch(s.type){case"CIMPointSymbol":case"CIMLineSymbol":case"CIMPolygonSymbol":$(e,f,o,t,i,r,n,a,c,l);break;case"CIMTextSymbol":J(e,f,t,o,i,r,n,a,c)}}}function J(e,t,o,i,r,n,a,s,f){c.E0.findApplicableOverrides(t,i,[]);const u=t.geometry;if(!("x"in u)||!("y"in u))return;const h=t.symbol,y=function(e){return e.underline?"underline":e.strikethrough?"line-through":"none"}(h),p=function(e){let t="normal",o="normal";if(e){const i=e.toLowerCase();-1!==i.indexOf("italic")?t="italic":-1!==i.indexOf("oblique")&&(t="oblique"),-1!==i.indexOf("bold")?o="bold":-1!==i.indexOf("light")&&(o="lighter")}return{style:t,weight:o}}(h.fontStyleName);h.font={family:h.fontFamilyName,decoration:y,...p};const S=e.frame,v=e.size/f,b=e.primitiveName,N=(h.height||0)*v,O=h.angle||0,k=((h.offsetX||0)+(u.x-.5*(S.xmin+S.xmax)))*v,P=((h.offsetY||0)+(u.y-.5*(S.ymin+S.ymax)))*v,C=(0,m.NO)(c.B$.getFillColor(h));let M=(0,m.NO)(c.B$.getStrokeColor(h)),x=c.B$.getStrokeWidth(h);x||(M=(0,m.NO)(c.B$.getFillColor(h.haloSymbol)),x=h.haloSize*v);let L="";for(const l of i)l.primitiveName===b&&void 0!==l.value&&(L+=`-${l.primitiveName}-${l.propertyName}-${JSON.stringify(l.value)}`);const w=JSON.stringify(e.effects)+Number(e.colorLocked)+JSON.stringify(e.anchorPoint)+e.anchorPointUnits+JSON.stringify(e.markerPlacement),I=(0,l.hP)(JSON.stringify(t)+w+L).toString();n.push({type:"text",templateHash:I,materialHash:()=>(0,l.hP)(JSON.stringify(h.font)).toString(),cim:h,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,alignment:a,anchorPoint:{x:e.anchorPoint?e.anchorPoint.x:0,y:e.anchorPoint?e.anchorPoint.y:0},isAbsoluteAnchorPoint:"Relative"!==e.anchorPointUnits,fontName:h.fontFamilyName,decoration:"none",weight:"normal",style:"normal",size:A(b,o,"Size",r,N),angle:A(b,o,"Rotation",r,O),offsetX:A(b,o,"OffsetX",r,k),offsetY:A(b,o,"OffsetY",r,P),horizontalAlignment:g(h.horizontalAlignment),verticalAlignment:d(h.verticalAlignment),text:A(t.primitiveName,o,"TextString",r,t.textString,m.X3,h.textCase),color:C,outlineColor:M,outlineSize:x,referenceSize:s,sizeRatio:1,markerPlacement:e.markerPlacement})}function $(e,t,o,i,r,n,a,s,u,h){const y=t.geometry;if(!y)return;const p=t.symbol.symbolLayers;if(!p)return;if(h)return void Y(e,t,i,o,r,n,a,s,u);let g=p.length;for(;g--;){const h=p[g];if(h&&!1!==h.enable)switch(h.type){case"CIMSolidFill":case"CIMSolidStroke":{const p=(0,f.bk)(y);if(!p)continue;const[g,d,S]=(0,f.UV)(p,e.frame,e.size,e.anchorPoint,"Relative"!==e.anchorPointUnits),v="CIMSolidFill"===h.type,b={type:"sdf",geom:y,asFill:v},N=e.primitiveName,O=e.size,k=e.rotation||0,P=e.offsetX,C=e.offsetY,M=h.primitiveName,x=(0,m.NO)(v?c.B$.getFillColor(h):c.B$.getStrokeColor(h)),L=v?{r:0,g:0,b:0,a:0}:(0,m.NO)(c.B$.getStrokeColor(h)),w=c.B$.getStrokeWidth(h);if(!v&&!w)break;let I=!1,X="";for(const e of o)e.primitiveName!==M&&e.primitiveName!==N||(void 0!==e.value?X+=`-${e.primitiveName}-${e.propertyName}-${JSON.stringify(e.value)}`:e.valueExpressionInfo&&(I=!0));const z=JSON.stringify({...e,markerGraphics:null}),J=(0,l.hP)(JSON.stringify(b)).toString(),$={type:"marker",templateHash:(0,l.hP)(JSON.stringify(t)+JSON.stringify(h)+z+X).toString(),materialHash:I?()=>J:J,cim:b,materialOverrides:null,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:a,anchorPoint:{x:d,y:S},isAbsoluteAnchorPoint:!1,size:A(e.primitiveName,i,"Size",r,O),rotation:A(e.primitiveName,i,"Rotation",r,k),offsetX:A(e.primitiveName,i,"OffsetX",r,P),offsetY:A(e.primitiveName,i,"OffsetY",r,C),scaleX:1,frameHeight:u,rotateClockwise:e.rotateClockwise,referenceSize:s,sizeRatio:g,color:A(M,i,"Color",r,x,F),outlineColor:A(M,i,"Color",r,L,F),outlineWidth:A(M,i,"Width",r,w),markerPlacement:e.markerPlacement};n.push($);break}default:Y(e,t,i,o,r,n,a,s,u)}}}function Y(e,t,o,i,r,n,s,f,m){const u=function(e,t){return{type:e.type,enable:!0,name:e.name,colorLocked:e.colorLocked,primitiveName:e.primitiveName,anchorPoint:e.anchorPoint,anchorPointUnits:e.anchorPointUnits,offsetX:0,offsetY:0,rotateClockwise:e.rotateClockwise,rotation:0,size:e.size,billboardMode3D:e.billboardMode3D,depth3D:e.depth3D,frame:e.frame,markerGraphics:[t],scaleSymbolsProportionally:e.scaleSymbolsProportionally,respectFrame:e.respectFrame,clippingPath:e.clippingPath,effects:e.effects}}(e,t);let h=[];const y=["Rotation","OffsetX","OffsetY"];h=i.filter(t=>t.primitiveName!==e.primitiveName||-1===y.indexOf(t.propertyName));let p="";for(const a of i)void 0!==a.value&&(p+=`-${a.primitiveName}-${a.propertyName}-${JSON.stringify(a.value)}`);const[g,d,S]=c.B$.getTextureAnchor(u),v=e.primitiveName,b=e.rotation||0,N=e.offsetX||0,O=e.offsetY||0,k=(0,l.hP)(JSON.stringify(u)+p).toString(),P={type:"marker",templateHash:k,materialHash:0===h.length?k:R(k,o,h,r),cim:u,materialOverrides:h,colorLocked:e.colorLocked,effects:e.effects,scaleSymbolsProportionally:e.scaleSymbolsProportionally,alignment:s,anchorPoint:{x:g,y:d},isAbsoluteAnchorPoint:!1,size:e.size,rotation:A(v,o,"Rotation",r,b),offsetX:A(v,o,"OffsetX",r,N),offsetY:A(v,o,"OffsetY",r,O),color:{r:255,g:255,b:255,a:1},outlineColor:{r:0,g:0,b:0,a:0},outlineWidth:0,scaleX:1,frameHeight:m,rotateClockwise:e.rotateClockwise,referenceSize:f,sizeRatio:S/(0,a.F2)(e.size),markerPlacement:e.markerPlacement};n.push(P)}function H(e){if(e&&0===e.indexOf("Level_")){const t=parseInt(e.substr(6),10);if(NaN!==t)return t}return 0}function F(e){if(!e||0===e.length)return null;const t=new r.Z(e).toRgba();return{r:t[0],g:t[1],b:t[2],a:t[3]}}function A(e,t,o,i,r,n,a){const l=t[e];if(l){const e=l[o];if("string"==typeof e||"number"==typeof e||e instanceof Array)return n?n.call(null,e,a):e;if(null!=e&&e instanceof s.mz)return(t,o,l)=>{let s=(0,u.Z)(e,t,{$view:l},i.geometryType,o);return null!==s&&n&&(s=n.call(null,s,a)),null!==s?s:r}}return r}function R(e,t,o,i){for(const r of o)if(r.valueExpressionInfo){const e=t[r.primitiveName]&&t[r.primitiveName][r.propertyName];e instanceof s.mz&&(r.fn=(t,o,r)=>(0,u.Z)(e,t,{$view:r},i.geometryType,o))}return(t,i,r)=>{for(const e of o)e.fn&&(e.value=e.fn(t,i,r));return(0,l.hP)(e+c.E0.buildOverrideKey(o)).toString()}}function B(e,t){if(!t||0===t.length)return e;const o=JSON.parse(JSON.stringify(e));return c.E0.applyOverrides(o,t),o}function G(e,t){let o=!1,i="";for(const r of e)r.primitiveName===t&&(void 0!==r.value?i+=`-${r.primitiveName}-${r.propertyName}-${JSON.stringify(r.value)}`:r.valueExpressionInfo&&(o=!0));return[o,i]}},26339:(e,t,o)=>{"use strict";o.d(t,{Z:()=>a});var i=o(2747),r=o(18419),n=o(10504);function a(e,t,o,i,n){const a=e.referencesGeometry()&&n?s(t,i,n):t,l=e.repurposeFeature(a);try{return e.evaluate({...o,$feature:l})}catch(c){return r.Z.getLogger("esri.views.2d.support.arcadeOnDemand").warn("Feature arcade evaluation failed:",c),null}}const l=new Map;function s(e,t,o){const{transform:a,hasZ:s,hasM:c}=o;l.has(t)||l.set(t,function(e){const t={};switch(e){case"esriGeometryPoint":return(e,o,i,r)=>(0,n.U1)(o,t,e,i,r);case"esriGeometryPolygon":return(e,o,i,r)=>(0,n.Ie)(o,t,e,i,r);case"esriGeometryPolyline":return(e,o,i,r)=>(0,n.G6)(o,t,e,i,r);case"esriGeometryMultipoint":return(e,o,i,r)=>(0,n.J9)(o,t,e,i,r);default:return r.Z.getLogger("esri.views.2d.support.arcadeOnDemand").error(new i.Z("mapview-arcade",`Unable to handle geometryType: ${e}`)),e=>e}}(t));const f=l.get(t)(e.geometry,a,s,c);return{...e,geometry:f}}}}]);