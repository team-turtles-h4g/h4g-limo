(self.webpackChunkh4g_limo=self.webpackChunkh4g_limo||[]).push([[9085],{39085:(e,i,s)=>{"use strict";s.r(i),s.d(i,{default:()=>u});var t=s(8651),r=s(4706),a=s(82772),o=s(42961),p=s(72147),h=(s(46942),s(12131),s(47648),s(18419),s(8680)),l=s(28079),n=s(59719),y=s(41586),c=s(67692),g=s(64713),m=s(61789),w=s(93729);let d=class extends((0,c.y)(w.Z)){constructor(){super(...arguments),this._graphicsViewMap={},this._popupTemplates=new Map,this.graphicsViews=[]}hitTest(e,i){if(this.suspended||!this.graphicsViews.length)return Promise.resolve(null);const s=this.graphicsViews.reverse().map(s=>s.hitTest(e,i));return Promise.all(s).then(e=>e.filter((e,i)=>(e&&(e.popupTemplate=this._popupTemplates.get(this.graphicsViews[i]),e.layer=this.layer,e.sourceLayer=this.layer),!!e))[0]||null)}update(e){if(this.graphicsViews)for(const i of this.graphicsViews)i.processUpdate(e)}attach(){this.layer.featureCollections.forEach(e=>{const i=y.default.fromJSON(e.featureSet),s=new(o.Z.ofType(r.Z))(i.features);let t;if(this._graphicsViewMap[i.geometryType])t=this._graphicsViewMap[i.geometryType],t.graphics.addMany(s);else{const r=e.layerDefinition.drawingInfo,o=e.popupInfo?a.Z.fromJSON(e.popupInfo):null,p=(0,n.im)(r.renderer);t=new m.Z({requestUpdateCallback:()=>this.requestUpdate(),view:this.view,graphics:s,renderer:p,container:new g.Z(this.view.featuresTilingScheme)}),this._graphicsViewMap[i.geometryType]=t,this._popupTemplates.set(t,o),"polygon"!==i.geometryType||this.layer.polygonSymbol?"polyline"!==i.geometryType||this.layer.lineSymbol?"point"!==i.geometryType||this.layer.pointSymbol||(this.layer.pointSymbol=p.symbol):this.layer.lineSymbol=p.symbol:this.layer.polygonSymbol=p.symbol,this.graphicsViews.push(t),this.container.addChild(t.container)}}),this.handles.add([(0,p.S1)(this.layer,"polygonSymbol",e=>{this._graphicsViewMap.polygon.renderer=new l.Z({symbol:e})}),(0,p.S1)(this.layer,"lineSymbol",e=>{this._graphicsViewMap.polyline.renderer=new l.Z({symbol:e})}),(0,p.S1)(this.layer,"pointSymbol",e=>{this._graphicsViewMap.point.renderer=new l.Z({symbol:e})})])}detach(){this.container.removeAllChildren();for(const e of this.graphicsViews)e.destroy();this.graphicsViews.length=0}moveStart(){}moveEnd(){}viewChange(){for(const e of this.graphicsViews)e.viewChange()}};d=(0,t._)([(0,h.j)("esri.views.2d.layers.GeoRSSLayerView2D")],d);var u=d}}]);