(self.webpackChunkh4g_limo=self.webpackChunkh4g_limo||[]).push([[3820],{3820:(e,r,n)=>{"use strict";n.r(r),n.d(r,{fromUrl:()=>y});var t=n(16304),l=n(93668),i=n(2747),a=n(54704),u=n(57319),o=n(1295),s=n(99844);function y(e){return d.apply(this,arguments)}function d(){return(d=(0,t.Z)(function*(e){var r;const t=null==(r=e.properties)?void 0:r.customParameters,l=yield p(e.url,t),i={...e.properties,url:e.url};if(!l.sublayerIds)return null!=l.layerOrTableId&&(i.layerId=l.layerOrTableId,i.sourceJSON=l.sourceJSON),new l.Constructor(i);const a=new(0,(yield n.e(9560).then(n.bind(n,69560))).default)({title:l.parsedUrl.title});return f(a,l,i),a})).apply(this,arguments)}function c(e,r){return e?e.find(e=>e.id===r):null}function f(e,r,n){function t(e,t){const l={...n,layerId:e,sublayerTitleMode:"service-name"};return(0,a.pC)(t)&&(l.sourceJSON=t),new r.Constructor(l)}r.sublayerIds.forEach(n=>{const l=t(n,c(r.sublayerInfos,n));e.add(l)}),r.tableIds.forEach(n=>{const l=t(n,c(r.tableInfos,n));e.tables.add(l)})}function p(e,r){return h.apply(this,arguments)}function h(){return(h=(0,t.Z)(function*(e,r){let n=(0,o.Qc)(e);if((0,a.Wi)(n)&&(n=yield b(e,r)),(0,a.Wi)(n))throw new i.Z("arcgis-layers:url-mismatch","The url '${url}' is not a valid arcgis resource",{url:e});const{serverType:t,sublayer:l}=n;let u;const s={FeatureServer:"FeatureLayer",StreamServer:"StreamLayer",VectorTileServer:"VectorTileLayer"};switch(t){case"MapServer":u=null!=l?"FeatureLayer":g(e,r).then(e=>e?"TileLayer":"MapImageLayer");break;case"ImageServer":u=C(e,r).then(e=>{const r=e.tileInfo&&e.tileInfo.format;return e.tileInfo?!r||"LERC"!==r.toUpperCase()||e.cacheType&&"elevation"!==e.cacheType.toLowerCase()?"ImageryTileLayer":"ElevationLayer":"ImageryLayer"});break;case"SceneServer":u=C(n.url.path,r).then(e=>{const r={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};if(e&&Array.isArray(e.layers)&&e.layers.length>0){const n=e.layers[0].layerType;if(null!=r[n])return r[n]}return"SceneLayer"});break;default:u=s[t]}const y="FeatureServer"===t,d={parsedUrl:n,Constructor:null,layerOrTableId:y?l:null,sublayerIds:null,tableIds:null},c=yield u;if({FeatureLayer:!0,SceneLayer:!0}[c]&&null==l){const n=yield v(e,t,r);if(y&&(d.sublayerInfos=n.layerInfos,d.tableInfos=n.tableInfos),1!==n.layerIds.length+n.tableIds.length)d.sublayerIds=n.layerIds,d.tableIds=n.tableIds;else if(y){var f,p;d.layerOrTableId=null!=(f=n.layerIds[0])?f:n.tableIds[0],d.sourceJSON=null!=(p=n.layerInfos[0])?p:n.tableInfos[0]}}return d.Constructor=yield O(c),d})).apply(this,arguments)}function b(e,r){return m.apply(this,arguments)}function m(){return(m=(0,t.Z)(function*(e,r){var n;const t=yield C(e,r);let l=null,i=null;const s=t.type;if("Feature Layer"===s||"Table"===s?(l="FeatureServer",i=t.id):"indexedVector"===s?l="VectorTileServer":t.hasOwnProperty("mapName")?l="MapServer":t.hasOwnProperty("bandCount")&&t.hasOwnProperty("pixelSizeX")?l="ImageServer":t.hasOwnProperty("maxRecordCount")&&t.hasOwnProperty("allowGeometryUpdates")?l="FeatureServer":t.hasOwnProperty("streamUrls")?l="StreamServer":L(t)?(l="SceneServer",i=t.id):t.hasOwnProperty("layers")&&L(null==(n=t.layers)?void 0:n[0])&&(l="SceneServer"),!l)return null;const y=null!=i?(0,o.DR)(e):null;return{title:(0,a.pC)(y)&&t.name||(0,u.vt)(e),serverType:l,sublayer:i,url:{path:(0,a.pC)(y)?y.serviceUrl:(0,u.mN)(e).path}}})).apply(this,arguments)}function L(e){return(null==e?void 0:e.hasOwnProperty("store"))&&e.hasOwnProperty("id")&&"number"==typeof e.id}function v(e,r,n){return S.apply(this,arguments)}function S(){return(S=(0,t.Z)(function*(e,r,n){var t,l;let i,a=!1;if("FeatureServer"===r){const r=yield Z(e,n);a=!!r.layersJSON,i=r.layersJSON||r.serviceJSON}else i=yield C(e,n);const u=null==(t=i)?void 0:t.layers,o=null==(l=i)?void 0:l.tables;return{layerIds:(null==u?void 0:u.map(e=>e.id).reverse())||[],tableIds:(null==o?void 0:o.map(e=>e.id).reverse())||[],layerInfos:a?u:[],tableInfos:a?o:[]}})).apply(this,arguments)}function I(e){return!e.type||"Feature Layer"===e.type}function Z(e,r){return P.apply(this,arguments)}function P(){return(P=(0,t.Z)(function*(e,r){var n,t;let l=yield C(e,r);l=l||{},l.layers=(null==(n=l.layers)?void 0:n.filter(I))||[];const i={serviceJSON:l};if(l.currentVersion<10.5)return i;const a=yield C(e+"/layers",r);return i.layersJSON={layers:(null==a||null==(t=a.layers)?void 0:t.filter(I))||[],tables:(null==a?void 0:a.tables)||[]},i})).apply(this,arguments)}function O(e){return T.apply(this,arguments)}function T(){return(T=(0,t.Z)(function*(e){return(0,s.T[e])()})).apply(this,arguments)}function g(e,r){return w.apply(this,arguments)}function w(){return(w=(0,t.Z)(function*(e,r){return(yield C(e,r)).tileInfo})).apply(this,arguments)}function C(e,r){return M.apply(this,arguments)}function M(){return(M=(0,t.Z)(function*(e,r){return(yield(0,l.default)(e,{responseType:"json",query:{f:"json",...r}})).data})).apply(this,arguments)}},99844:(e,r,n)=>{"use strict";n.d(r,{T:()=>l});var t=n(16304);const l={BingMapsLayer:(J=(0,t.Z)(function*(){return(yield n.e(6191).then(n.bind(n,52391))).default}),function(){return J.apply(this,arguments)}),BuildingSceneLayer:(N=(0,t.Z)(function*(){return(yield Promise.all([n.e(7818),n.e(8592),n.e(4667)]).then(n.bind(n,14667))).default}),function(){return N.apply(this,arguments)}),CSVLayer:(F=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(3770)]).then(n.bind(n,49527))).default}),function(){return F.apply(this,arguments)}),ElevationLayer:(M=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4070)]).then(n.bind(n,4070))).default}),function(){return M.apply(this,arguments)}),FeatureLayer:(C=(0,t.Z)(function*(){return(yield Promise.resolve().then(n.bind(n,76468))).default}),function(){return C.apply(this,arguments)}),GroupLayer:(w=(0,t.Z)(function*(){return(yield n.e(9560).then(n.bind(n,69560))).default}),function(){return w.apply(this,arguments)}),GeoRSSLayer:(g=(0,t.Z)(function*(){return(yield n.e(4293).then(n.bind(n,24293))).default}),function(){return g.apply(this,arguments)}),ImageryLayer:(T=(0,t.Z)(function*(){return(yield Promise.all([n.e(713),n.e(4732),n.e(8247),n.e(264)]).then(n.bind(n,264))).default}),function(){return T.apply(this,arguments)}),ImageryTileLayer:(O=(0,t.Z)(function*(){return(yield Promise.all([n.e(713),n.e(4732),n.e(8247),n.e(8592),n.e(9626)]).then(n.bind(n,59626))).default}),function(){return O.apply(this,arguments)}),IntegratedMeshLayer:(P=(0,t.Z)(function*(){return(yield Promise.all([n.e(7818),n.e(8592),n.e(5293)]).then(n.bind(n,45293))).default}),function(){return P.apply(this,arguments)}),KMLLayer:(Z=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(2691)]).then(n.bind(n,12691))).default}),function(){return Z.apply(this,arguments)}),MapImageLayer:(I=(0,t.Z)(function*(){return(yield Promise.all([n.e(940),n.e(6119)]).then(n.bind(n,26119))).default}),function(){return I.apply(this,arguments)}),MapNotesLayer:(S=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(2193)]).then(n.bind(n,22193))).default}),function(){return S.apply(this,arguments)}),OGCFeatureLayer:(v=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(4877)]).then(n.bind(n,77129))).default}),function(){return v.apply(this,arguments)}),OpenStreetMapLayer:(L=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(3220)]).then(n.bind(n,83220))).default}),function(){return L.apply(this,arguments)}),PointCloudLayer:(m=(0,t.Z)(function*(){return(yield Promise.all([n.e(7818),n.e(8592),n.e(5174)]).then(n.bind(n,75174))).default}),function(){return m.apply(this,arguments)}),RouteLayer:(b=(0,t.Z)(function*(){return(yield n.e(475).then(n.bind(n,50475))).default}),function(){return b.apply(this,arguments)}),SceneLayer:(h=(0,t.Z)(function*(){return(yield Promise.all([n.e(7818),n.e(8592),n.e(7900)]).then(n.bind(n,47900))).default}),function(){return h.apply(this,arguments)}),StreamLayer:(p=(0,t.Z)(function*(){return(yield n.e(5039).then(n.bind(n,85039))).default}),function(){return p.apply(this,arguments)}),TileLayer:(f=(0,t.Z)(function*(){return(yield Promise.all([n.e(940),n.e(8592),n.e(6106)]).then(n.bind(n,96106))).default}),function(){return f.apply(this,arguments)}),UnknownLayer:(c=(0,t.Z)(function*(){return(yield n.e(9056).then(n.bind(n,59056))).default}),function(){return c.apply(this,arguments)}),UnsupportedLayer:(d=(0,t.Z)(function*(){return(yield n.e(722).then(n.bind(n,20722))).default}),function(){return d.apply(this,arguments)}),VectorTileLayer:(y=(0,t.Z)(function*(){return(yield Promise.all([n.e(135),n.e(8592),n.e(2251)]).then(n.bind(n,47846))).default}),function(){return y.apply(this,arguments)}),VoxelLayer:(s=(0,t.Z)(function*(){return(yield n.e(969).then(n.bind(n,30969))).default}),function(){return s.apply(this,arguments)}),WebTileLayer:(o=(0,t.Z)(function*(){return(yield n.e(8592).then(n.bind(n,16912))).default}),function(){return o.apply(this,arguments)}),WFSLayer:(u=(0,t.Z)(function*(){return(yield Promise.all([n.e(7050),n.e(8592),n.e(2887)]).then(n.bind(n,39025))).default}),function(){return u.apply(this,arguments)}),WMSLayer:(a=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(653)]).then(n.bind(n,50653))).default}),function(){return a.apply(this,arguments)}),WMTSLayer:(i=(0,t.Z)(function*(){return(yield Promise.all([n.e(8592),n.e(1729)]).then(n.bind(n,41729))).default}),function(){return i.apply(this,arguments)})};var i,a,u,o,s,y,d,c,f,p,h,b,m,L,v,S,I,Z,P,O,T,g,w,C,M,F,N,J}}]);