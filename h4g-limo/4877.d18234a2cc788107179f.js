(self.webpackChunkh4g_limo=self.webpackChunkh4g_limo||[]).push([[4877],{77129:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>J});var r=o(16304),n=o(8651),i=(o(42851),o(82772)),s=(o(67929),o(48548),o(10767),o(77167),o(34438),o(28079),o(88292),o(59719)),p=o(87765),l=o(67372),u=o(46942),a=(o(12131),o(47648),o(18419),o(8680)),c=o(66081),d=o(3734),y=o(3523),f=o(2747),h=o(45581),g=o(54704),m=o(89028),v=o(41586),b=o(2379);const C="http://www.opengis.net/def/crs/OGC/1.3/CRS84";let S=class extends h.Z{constructor(){super(...arguments),this.featureDefinition=null,this.type="ogc-feature"}load(e){return this.addResolvingPromise(this._loadOGCServices(this.layer,e)),this.when()}getFeatureDefinition(){const{featureDefinition:{collection:e,layerDefinition:t,spatialReference:o,supportedCrs:r},layer:{apiKey:n,capabilities:i,customParameters:s}}=this;return{capabilities:i,collection:e,layerDefinition:t,queryParameters:{apiKey:n,customParameters:s},spatialReference:o,supportedCrs:r}}queryExtent(e,t={}){return null}queryFeatureCount(e,t={}){return null}queryFeatures(e,t={}){return this.queryFeaturesJSON(e,t).then(e=>v.default.fromJSON(e))}queryFeaturesJSON(e,t={}){const o=this.getFeatureDefinition();return this.load(t).then(()=>(0,m.yN)(o,e,t))}queryObjectIds(e,t={}){return null}supportsSpatialReference(e){return!(!e.isWGS84&&!e.isWebMercator&&!this.featureDefinition.supportedCrs[e.wkid])}_conformsToType(e,t){var o;const r=new RegExp(`^${t}$`,"i");return null!=(o=e.conformsTo.some(e=>r.test(e)))&&o}_getCapabilities(e,t){var o,r,n,i,s,p,l;const u=(0,g.pC)(t)?null==(o=t.components)?void 0:o.parameters:null;return{attachment:null,data:{isVersioned:!1,supportsAttachment:!1,supportsM:!1,supportsZ:e},metadata:{supportsAdvancedFieldProperties:!1},operations:{supportsCalculate:!1,supportsTruncate:!1,supportsValidateSql:!1,supportsAdd:!1,supportsDelete:!1,supportsEditing:!1,supportsChangeTracking:!1,supportsQuery:!1,supportsQueryAttachments:!1,supportsResizeAttachments:!1,supportsSync:!1,supportsUpdate:!1,supportsExceedsLimitStatistics:!1},query:{maxRecordCount:null!=(r=null!=(n=null==u||null==(i=u.limit)||null==(s=i.schema)?void 0:s.maximum)?n:null==u||null==(p=u.limitFeatures)||null==(l=p.schema)?void 0:l.maximum)?r:5e3,maxRecordCountFactor:void 0,standardMaxRecordCount:void 0,supportsCacheHint:!1,supportsCentroid:!1,supportsDisjointSpatialRelationship:!1,supportsDistance:!1,supportsDistinct:!1,supportsExtent:!1,supportsFormatPBF:!1,supportsGeometryProperties:!1,supportsHavingClause:!1,supportsHistoricMoment:!1,supportsMaxRecordCountFactor:!1,supportsOrderBy:!1,supportsPagination:!1,supportsPercentileStatistics:!1,supportsQuantization:!1,supportsQuantizationEditMode:!1,supportsQueryByOthers:!1,supportsQueryGeometry:!1,supportsResultType:!1,supportsStandardizedQueriesOnly:!1,supportsTopFeaturesQuery:!1,supportsStatistics:!1,supportsSqlExpression:!1,tileMaxRecordCount:void 0},queryRelated:{supportsCount:!1,supportsOrderBy:!1,supportsPagination:!1},editing:{supportsDeleteByAnonymous:!1,supportsDeleteByOthers:!1,supportsGeometryUpdate:!1,supportsGlobalId:!1,supportsReturnServiceEditsInSourceSpatialReference:!1,supportsRollbackOnFailure:!1,supportsUpdateByAnonymous:!1,supportsUpdateByOthers:!1,supportsUploadWithItemId:!1,supportsUpdateWithoutM:!1}}}_getExtent(e){var t;const o=null==(t=e.extent)?void 0:t.spatial;if(!o)return null;const r=o.bbox[0],n=4===r.length;return{xmin:r[0],ymin:r[1],xmax:n?r[2]:r[3],ymax:n?r[3]:r[4],zmin:n?void 0:r[2],zmax:n?void 0:r[5],spatialReference:b.Z.WGS84.toJSON()}}_getStorageSpatialReference(e){var t;const o=null!=(t=e.storageCrs)?t:C,r=(0,m.d)(o);return(0,g.Wi)(r)?b.Z.WGS84:new b.Z({wkid:r})}_getSupportedSpatialReferences(e,t){var o;const r="#/crs",n=null!=(o=e.crs)?o:[C],i=n.includes(r)?n.filter(e=>e!==r).concat(t.crs):n,s=/^http:\/\/www\.opengis.net\/def\/crs\/epsg\/.*\/3785$/i;return i.filter(e=>!s.test(e))}_loadOGCServices(e,t){var o=this;return(0,r.Z)(function*(){const r=(0,g.pC)(t)?t.signal:null,{apiKey:n,collectionId:i,customParameters:s,fields:p,geometryType:l,hasZ:u,objectIdField:a,timeInfo:c,url:y}=e,h={fields:null==p?void 0:p.map(e=>e.toJSON()),geometryType:d.P$.toJSON(l),hasZ:u,objectIdField:a,timeInfo:null==c?void 0:c.toJSON()},v={apiKey:n,customParameters:s,signal:r},b=yield(0,m.gp)(y,v),[C,S]=yield Promise.all([(0,m.G4)(b,v),(0,m.j)(b,v)]);if(!o._conformsToType(C,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/geojson"))throw new f.Z("ogc-feature-layer:no-geojson-support","Server does not support geojson");const w=S.collections.find(e=>e.id===i);if(!w)throw new f.Z("ogc-feature-layer:collection-not-found","Server does not contain the named collection");const _=o._conformsToType(C,"http://www.opengis.net/spec/ogcapi-features-1/1.0/conf/oas30")?yield(0,m.eS)(b,v):null,F=yield(0,m.w9)(w,h,v),x=o._getCapabilities(F.hasZ,_),I=o._getExtent(w),P=o._getStorageSpatialReference(w).toJSON(),R=o._getSupportedSpatialReferences(w,S),O={};for(const e of R){const t=(0,m.d)(e);(0,g.pC)(t)&&(O[t]=e)}F.extent=I,o.featureDefinition={capabilities:x,collection:w,layerDefinition:F,queryParameters:{},spatialReference:P,supportedCrs:O}})()}};(0,n._)([(0,u.Cb)()],S.prototype,"featureDefinition",void 0),(0,n._)([(0,u.Cb)({constructOnly:!0})],S.prototype,"layer",void 0),(0,n._)([(0,u.Cb)()],S.prototype,"type",void 0),S=(0,n._)([(0,a.j)("esri.layers.graphics.sources.OGCFeatureSource")],S);var w=S,_=o(10165),F=o(68141),x=o(46642),I=o(83727),P=o(8515),R=o(20174),O=o(69265),j=o(37001),T=o(26429),D=o(17788),Z=o(83135),G=o(82186),E=o(23535),M=o(74474),N=o(21550),Q=o(43628),k=o(52067),q=o(65669),L=o(524),B=o(95046);const z=(0,M.v)();let A=class extends((0,_.V)((0,x.N)((0,F.h)((0,P.c)((0,T.n)((0,j.M)((0,I.q)((0,R.I)((0,O.Q)((0,l.R)(y.Z))))))))))){constructor(e){super(e),this.collectionId=null,this.copyright=null,this.definitionExpression=null,this.description=null,this.displayField=null,this.elevationInfo=null,this.featureReduction=null,this.fields=null,this.fieldsIndex=null,this.fullExtent=null,this.geometryType=null,this.hasZ=void 0,this.labelingInfo=null,this.labelsVisible=!0,this.legendEnabled=!0,this.objectIdField=null,this.operationalLayerType="OGCFeatureLayer",this.popupEnabled=!0,this.popupTemplate=null,this.screenSizePerspectiveEnabled=!0,this.source=new w({layer:this}),this.spatialReference=null,this.title=null,this.type="ogc-feature",this.typeIdField=null,this.types=null,this.url=null}destroy(){var e;null==(e=this.source)||e.destroy()}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["OGCFeatureServer"]},e).then(()=>this._fetchService(e))),this.when()}get defaultPopupTemplate(){return this.createPopupTemplate()}writeWebSceneFeatureReduction(e,t,o,r){(0,Z.Q6)(e,t,"layerDefinition.featureReduction",r)}get isTable(){return this.loaded&&null==this.geometryType}set renderer(e){(0,N.YN)(e,this.fieldsIndex),this._set("renderer",e)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return(0,L.eZ)(this,e)}createQuery(){return new q.Z}getField(e){return this.fieldsIndex.get(e)}getFieldDomain(e,t){var o;let r,n=!1;const i=null==t||null==(o=t.feature)?void 0:o.attributes,s=this.typeIdField&&(null==i?void 0:i[this.typeIdField]);return null!=s&&this.types&&(n=this.types.some(t=>{var o,n;return t.id==s&&(r=null==(o=t.domains)?void 0:o[e],"inherited"===(null==(n=r)?void 0:n.type)&&(r=this._getLayerDomain(e)),!0)})),n||r||(r=this._getLayerDomain(e)),r}queryFeatures(e,t){return this.load().then(()=>this.source.queryFeatures(q.Z.from(e)||this.createQuery(),t)).then(e=>{var t;return null==e||null==(t=e.features)||t.forEach(e=>{e.layer=e.sourceLayer=this}),e})}_fetchService(e){var t=this;return(0,r.Z)(function*(){yield t.source.load(e),t.read(t.source.featureDefinition,{origin:"service"}),(0,N.YN)(t.renderer,t.fieldsIndex),(0,N.UF)(t.timeInfo,t.fieldsIndex)})()}_getLayerDomain(e){if(!this.fields)return null;for(const t of this.fields)if(t.name===e&&t.domain)return t.domain;return null}};(0,n._)([(0,u.Cb)({readOnly:!0,json:{origins:{service:{read:!0}}}})],A.prototype,"capabilities",void 0),(0,n._)([(0,u.Cb)({type:String,json:{write:!0}})],A.prototype,"collectionId",void 0),(0,n._)([(0,u.Cb)({type:String})],A.prototype,"copyright",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],A.prototype,"defaultPopupTemplate",null),(0,n._)([(0,u.Cb)({type:String})],A.prototype,"definitionExpression",void 0),(0,n._)([(0,u.Cb)({readOnly:!0,type:String,json:{origins:{service:{name:"collection.description"}}}})],A.prototype,"description",void 0),(0,n._)([(0,u.Cb)({type:String})],A.prototype,"displayField",void 0),(0,n._)([(0,u.Cb)(D.PV)],A.prototype,"elevationInfo",void 0),(0,n._)([(0,u.Cb)(Z.dm)],A.prototype,"featureReduction",void 0),(0,n._)([(0,c.c)("web-scene","featureReduction",{"layerDefinition.featureReduction":{types:Z.Gx}})],A.prototype,"writeWebSceneFeatureReduction",null),(0,n._)([(0,u.Cb)({type:[E.Z],json:{origins:{service:{name:"layerDefinition.fields"}}}})],A.prototype,"fields",void 0),(0,n._)([(0,u.Cb)(z.fieldsIndex)],A.prototype,"fieldsIndex",void 0),(0,n._)([(0,u.Cb)({readOnly:!0,type:B.Z,json:{origins:{service:{name:"layerDefinition.extent"}}}})],A.prototype,"fullExtent",void 0),(0,n._)([(0,u.Cb)({type:d.Mk.apiValues,json:{origins:{service:{name:"layerDefinition.geometryType",read:{reader:d.Mk.read}}}}})],A.prototype,"geometryType",void 0),(0,n._)([(0,u.Cb)({type:Boolean,json:{origins:{service:{name:"layerDefinition.hasZ"}}}})],A.prototype,"hasZ",void 0),(0,n._)([(0,u.Cb)({type:Boolean,readOnly:!0})],A.prototype,"isTable",null),(0,n._)([(0,u.Cb)({type:[Q.Z],json:{origins:{"web-document":{name:"layerDefinition.drawingInfo.labelingInfo",read:{reader:k.r},write:!0}}}})],A.prototype,"labelingInfo",void 0),(0,n._)([(0,u.Cb)(D.iR)],A.prototype,"labelsVisible",void 0),(0,n._)([(0,u.Cb)(D.rn)],A.prototype,"legendEnabled",void 0),(0,n._)([(0,u.Cb)({type:String,json:{origins:{service:{name:"layerDefinition.objectIdField"}}}})],A.prototype,"objectIdField",void 0),(0,n._)([(0,u.Cb)({type:["OGCFeatureLayer"]})],A.prototype,"operationalLayerType",void 0),(0,n._)([(0,u.Cb)(D.C_)],A.prototype,"popupEnabled",void 0),(0,n._)([(0,u.Cb)({type:i.Z,json:{name:"popupInfo",write:!0}})],A.prototype,"popupTemplate",void 0),(0,n._)([(0,u.Cb)({types:p.A,json:{origins:{service:{name:"layerDefinition.drawingInfo.renderer",write:!1},"web-scene":{types:p.o,name:"layerDefinition.drawingInfo.renderer",write:{writer:s.cW}}},name:"layerDefinition.drawingInfo.renderer",write:!0}})],A.prototype,"renderer",null),(0,n._)([(0,u.Cb)({type:Boolean})],A.prototype,"screenSizePerspectiveEnabled",void 0),(0,n._)([(0,u.Cb)({readOnly:!0})],A.prototype,"source",void 0),(0,n._)([(0,u.Cb)({readOnly:!0,type:b.Z,json:{origins:{service:{read:!0}}}})],A.prototype,"spatialReference",void 0),(0,n._)([(0,u.Cb)({type:String,json:{write:{enabled:!0,ignoreOrigin:!0,isRequired:!0},origins:{service:{name:"collection.title"}}}})],A.prototype,"title",void 0),(0,n._)([(0,u.Cb)({readOnly:!0,json:{read:!1}})],A.prototype,"type",void 0),(0,n._)([(0,u.Cb)({type:String,readOnly:!0})],A.prototype,"typeIdField",void 0),(0,n._)([(0,u.Cb)({type:[G.Z]})],A.prototype,"types",void 0),(0,n._)([(0,u.Cb)(D.HQ)],A.prototype,"url",void 0),A=(0,n._)([(0,a.j)("esri.layers.OGCFeatureLayer")],A);var J=A},90495:(e,t,o)=>{"use strict";o.d(t,{g:()=>r});const r={supportsStatistics:!0,supportsPercentileStatistics:!0,supportsCentroid:!0,supportsCacheHint:!1,supportsDistance:!0,supportsDistinct:!0,supportsExtent:!0,supportsGeometryProperties:!1,supportsHavingClause:!0,supportsOrderBy:!0,supportsPagination:!0,supportsQuantization:!0,supportsQuantizationEditMode:!1,supportsQueryGeometry:!0,supportsResultType:!1,supportsSqlExpression:!0,supportsMaxRecordCountFactor:!1,supportsStandardizedQueriesOnly:!0,supportsTopFeaturesQuery:!1,supportsQueryByOthers:!0,supportsHistoricMoment:!1,supportsFormatPBF:!1,supportsDisjointSpatialRelationship:!0,maxRecordCountFactor:void 0,maxRecordCount:void 0,standardMaxRecordCount:void 0,tileMaxRecordCount:void 0}},90935:(e,t,o)=>{"use strict";o.d(t,{lG:()=>w,q9:()=>p,my:()=>S,O3:()=>C});var r=o(2747),n=o(16470),i=o(99867);const s={LineString:"esriGeometryPolyline",MultiLineString:"esriGeometryPolyline",MultiPoint:"esriGeometryMultipoint",Point:"esriGeometryPoint",Polygon:"esriGeometryPolygon",MultiPolygon:"esriGeometryPolygon"};function p(e){return s[e]}function*l(e){switch(e.type){case"Feature":yield e;break;case"FeatureCollection":for(const t of e.features)t&&(yield t)}}function*u(e){if(!e)return null;switch(e.type){case"Point":yield e.coordinates;break;case"LineString":case"MultiPoint":yield*e.coordinates;break;case"MultiLineString":case"Polygon":for(const t of e.coordinates)yield*t;break;case"MultiPolygon":for(const t of e.coordinates)for(const e of t)yield*e}}function a(e){for(const t of e)if(t.length>2)return!0;return!1}function c(e){let t=0;for(let o=0;o<e.length;o++){const r=e[o],n=e[(o+1)%e.length];t+=r[0]*n[1]-n[0]*r[1]}return t<=0}function d(e){const t=e[0],o=e[e.length-1];return t[0]===o[0]&&t[1]===o[1]&&t[2]===o[2]||e.push(t),e}function y(e,t,o){switch(t.type){case"LineString":return function(e,t,o){return g(e,t.coordinates,o),e}(e,t,o);case"MultiLineString":return function(e,t,o){for(const r of t.coordinates)g(e,r,o);return e}(e,t,o);case"MultiPoint":return function(e,t,o){return g(e,t.coordinates,o),e}(e,t,o);case"MultiPolygon":return function(e,t,o){for(const r of t.coordinates){f(e,r[0],o);for(let t=1;t<r.length;t++)h(e,r[t],o)}return e}(e,t,o);case"Point":return function(e,t,o){return v(e,t.coordinates,o),e}(e,t,o);case"Polygon":return function(e,t,o){const r=t.coordinates;f(e,r[0],o);for(let n=1;n<r.length;n++)h(e,r[n],o);return e}(e,t,o)}}function f(e,t,o){const r=d(t);!function(e){return!c(e)}(r)?g(e,r,o):m(e,r,o)}function h(e,t,o){const r=d(t);!function(e){return c(e)}(r)?g(e,r,o):m(e,r,o)}function g(e,t,o){for(const r of t)v(e,r,o);e.lengths.push(t.length)}function m(e,t,o){for(let r=t.length-1;r>=0;r--)v(e,t[r],o);e.lengths.push(t.length)}function v(e,t,o){const[r,n,i]=t;e.coords.push(r,n),o.hasZ&&e.coords.push(i||0)}function b(e){switch(typeof e){case"string":return"esriFieldTypeString";case"number":return"esriFieldTypeDouble";default:return"unknown"}}function C(e){if(!e)throw new r.Z("geojson-layer:empty","GeoJSON data is empty");if("Feature"!==e.type&&"FeatureCollection"!==e.type)throw new r.Z("geojson-layer:unsupported-geojson-object","missing or not supported GeoJSON object type",{data:e});const{crs:t}=e;if(!t)return;const o="string"==typeof t?t:"name"===t.type?t.properties.name:"EPSG"===t.type?t.properties.code:null,n=new RegExp(".*(CRS84H?|4326)$","i");if(!o||!n.test(o))throw new r.Z("geojson-layer:unsupported-crs","unsupported GeoJSON 'crs' member",{crs:t})}function S(e,t={}){const o=[],r=new Set,n=new Set;let i,s=!1,c=Number.NEGATIVE_INFINITY,d=null,y=!1,{geometryType:f=null}=t,h=!1;for(const m of l(e)){const{geometry:e,properties:t,id:l}=m;if((!e||(f||(f=p(e.type)),p(e.type)===f))&&(s||(s=a(u(e))),y||(y=null!=l,y&&(i=typeof l,"number"===i&&(d=Object.keys(t).filter(e=>t[e]===l)))),y&&"number"===i&&null!=l&&(c=Math.max(c,l),d.length>1?d=d.filter(e=>t[e]===l):1===d.length&&(d=t[d[0]]===l?d:[])),!h&&t)){let e=!0;for(const i in t){if(r.has(i))continue;const s=t[i];if(null==s){e=!1,n.add(i);continue}const p=b(s);"unknown"!==p?(n.delete(i),r.add(i),o.push({name:i,alias:i,type:p})):n.add(i)}h=e}}const g=d&&1===d.length&&d[0]||null;if(g)for(const p of o)p.name===g&&(p.type="esriFieldTypeOID");return{fields:o,geometryType:f,hasZ:s,maxObjectId:Math.max(0,c),objectIdFieldName:g,objectIdFieldType:i,unknownFields:Array.from(n)}}function w(e,t){return Array.from(function*(e,t={}){const{geometryType:o,objectIdField:r}=t;for(const l of e){var s;const{geometry:e,properties:u,id:a}=l;if(e&&p(e.type)!==o)continue;const c=u||{};let d=null!=(s=c[r])?s:null;r&&null!=a&&!c[r]&&(c[r]=d=a);const f=new n.ZP(e?y(new i.Z,e,t):null,c,null,d);yield f}}(l(e),t))}}}]);