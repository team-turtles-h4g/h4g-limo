(self.webpackChunkh4g_limo=self.webpackChunkh4g_limo||[]).push([[7594],{37594:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>F});var i=t(8651),s=t(46942),a=(t(12131),t(47648),t(18419),t(8680)),o=t(16304),n=t(93668),l=t(39591),u=t(11909),p=t(28067),c=t(42806),y=(t(42851),t(4706)),f=t(49533),d=t(54704),m=t(41460),B=t(2379),b=t(92966),h=t(41586),g=t(65611),_=t(38975),v=t(92268),C=t(78816);function Z(e){return h.default.fromJSON(e).features.map(e=>e.geometry)}let R=class extends f.wq{constructor(e){super(e),this.directions=null,this.facilities=null,this.incidents=null,this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routes=null}readFacilities(e){return Z(e)}readIncidents(e){return Z(e)}readPointBarriers(e,r){return Z(r.barriers)}readPolylineBarriers(e){return Z(e)}readPolygonBarriers(e){return Z(e)}readRoutes(e){return function(e){return e.features.map(r=>{const t=B.Z.fromJSON(e.spatialReference),i=y.Z.fromJSON(r);return(0,d.pC)(i.geometry)&&(i.geometry.spatialReference=t),i})}(e)}};(0,i._)([(0,s.Cb)({type:[b.Z]})],R.prototype,"directions",void 0),(0,i._)([(0,s.Cb)({type:[_.Z]})],R.prototype,"facilities",void 0),(0,i._)([(0,m.r)("facilities")],R.prototype,"readFacilities",null),(0,i._)([(0,s.Cb)({type:[_.Z]})],R.prototype,"incidents",void 0),(0,i._)([(0,m.r)("incidents")],R.prototype,"readIncidents",null),(0,i._)([(0,s.Cb)({type:[g.Z]})],R.prototype,"messages",void 0),(0,i._)([(0,s.Cb)({type:[_.Z]})],R.prototype,"pointBarriers",void 0),(0,i._)([(0,m.r)("pointBarriers",["barriers"])],R.prototype,"readPointBarriers",null),(0,i._)([(0,s.Cb)({type:[v.Z]})],R.prototype,"polylineBarriers",void 0),(0,i._)([(0,m.r)("polylineBarriers")],R.prototype,"readPolylineBarriers",null),(0,i._)([(0,s.Cb)({type:[C.Z]})],R.prototype,"polygonBarriers",void 0),(0,i._)([(0,m.r)("polygonBarriers")],R.prototype,"readPolygonBarriers",null),(0,i._)([(0,s.Cb)({type:[y.Z]})],R.prototype,"routes",void 0),(0,i._)([(0,m.r)("routes")],R.prototype,"readRoutes",null),R=(0,i._)([(0,a.j)("esri.rest.support.ClosestFacilitySolveResult")],R);var P=R;const A=(0,l.E)({accumulateAttributes:{name:"accumulateAttributeNames"},attributeParameterValues:!0,directionsTimeAttribute:{name:"directionsTimeAttributeName"},impedanceAttribute:{name:"impedanceAttributeName"},facilities:!0,incidents:!0,outSpatialReference:{name:"outSR",getter:e=>e.outSpatialReference.wkid},pointBarriers:{name:"barriers"},polylineBarriers:!0,polygonBarriers:!0,restrictionAttributes:{name:"restrictionAttributeNames"},returnPointBarriers:{name:"returnBarriers"},returnRoutes:{name:"returnCFRoutes"},travelMode:!0});function N(){return(N=(0,o.Z)(function*(e,r,t){const i=[],s=[],a={},o={},l=(0,c.en)(e),{path:y}=l;r.incidents&&r.incidents.features&&(0,p.et)(r.incidents.features,s,"incidents.features",a),r.facilities&&r.facilities.features&&(0,p.et)(r.facilities.features,s,"facilities.features",a),r.pointBarriers&&r.pointBarriers.features&&(0,p.et)(r.pointBarriers.features,s,"pointBarriers.features",a),r.polylineBarriers&&r.polylineBarriers.features&&(0,p.et)(r.polylineBarriers.features,s,"polylineBarriers.features",a),r.polygonBarriers&&r.polygonBarriers.features&&(0,p.et)(r.polygonBarriers.features,s,"polygonBarriers.features",a);const f=yield(0,u.aX)(s);for(const n in a){const e=a[n];i.push(n),o[n]=f.slice(e[0],e[1])}if((0,p.Wf)(o,i)){let e=null;try{e=yield(0,p.bI)(y,r.apiKey,t)}catch{}e&&!e.hasZ&&(0,p.ef)(o,i)}for(const n in o)o[n].forEach((e,t)=>{r.get(n)[t].geometry=e});const d={...t,query:{...l.query,...A.toQueryParams(r),f:"json"}},{data:m}=yield(0,n.default)(`${y}/solveClosestFacility`,d);return P.fromJSON(m)})).apply(this,arguments)}var S=t(38373);let k=class extends S.Z{constructor(e){super(e),this.url=null}solve(e,r){return function(e,r,t){return N.apply(this,arguments)}(this.url,e,r)}};(0,i._)([(0,s.Cb)()],k.prototype,"url",void 0),k=(0,i._)([(0,a.j)("esri.tasks.ClosestFacilityTask")],k);var F=k}}]);